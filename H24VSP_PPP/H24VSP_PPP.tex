\documentclass[11pt]{beamer}

%my colours


\usetheme{metropolis}
\metroset{everytitleformat = regular,progressbar=foot} %settings
\mode<presentation>
%\usecolortheme{dove} %dove
% albatross, beaver, beetle, crane, default, dolphin, dove, orchid, rose, seagull, seahorse, whale, wolverine
%dont use  fly, lily,
%http://mirror.ox.ac.uk/sites/ctan.org/macros/latex/contrib/beamer/doc/beameruserguide.pdf
\setbeamercolor{title separator}{fg = UniBlue}
\setbeamercolor{frametitle}{fg = deepBlue, bg=aBlue!70}

\usepackage{booktabs}
\usepackage[scale=2]{ccicons}

\usepackage{pgfplots}
\usepgfplotslibrary{dateplot}


%coords are in relation to lower right corner
%\logo{\pgfputat{\pgfxy(0,6}{\pgfbox[right,top]{\includegraphics[width=2.5cm]{logo.png}}}}

\usepackage{tikz}
\addtobeamertemplate{frametitle}{}{%
\begin{tikzpicture}[remember picture,overlay]
\node[anchor=north east,yshift=2pt] at (current page.north east) {\includegraphics[height=0.8cm]{pic/logo.png}};
%\node[anchor=north east,yshift=2pt] at (current page.north east) {\includegraphics[height=0.8cm]{./../logo.png}};
\end{tikzpicture}}

\input{Preamble.tex}
%\renewcommand{\baselinestretch}{1.2} %line spacing
%{\setstretch{1.0}\color{blue} text bla bla } for section strech
%\renewcommand{\footnotesize}{\scriptsize}
%\usepackage[demo]{graphicx}
\usepackage[font={small,it}]{caption}
%\usepackage{subcaption}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title[H24VSP]{H24VSP Project 3}
\subtitle{Practical PPP with Veripos DL5}
\author{Lukasz K Bonenberg}
\institute{NGI}
\date{\today}
 %\titlegraphic{\hfill\includegraphics[height=1.5cm]{logo/logo}}

\begin{document}

\maketitle

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\section{Introduction}

%\begin{frame}[allowframebreaks=0.9]{Introduction}
\begin{frame}[fragile]{Introduction}

	In last practical of the H24VSP module we will explore the capacities of the Precise Point Positoning (PPP) by comparing it with real-time kinematic double-differenced positioning (RTK) that you are already familiar with. During practical we will be using \textbf{Leica GS10} receiver and maritime \textbf{Veripos LD5} receiver with AsterRx chipset\footnote[frame]{For short introductory video see \url{http://bit.ly/VeriposLD5}.}.
    We are interested in assessing difference between:
	\begin{itemize}
		\item convergence time;
		\item precision - estimated and actual after convergence; 
		\item accuracy after convergence.
	\end{itemize}

\end{frame}

\begin{frame}{What we are going to discuss}
  \setbeamertemplate{section in toc}[circle] %[sections numbered]
  \tableofcontents[hideallsubsections]
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Veripos Services}

\begin{frame}[allowframebreaks]{Veripos Services}
	Veripos is a commercial company offering combination of a hardware (receivers) and correction services\footnote[frame]{\url{http://bit.ly/VeriposServices}.}:
	
	\begin{itemize}
		\item \textbf{Veripos Standard} - single frequency code DGPS, 1-2 m accuracy.
		\item \textbf{Veripos Standard$^2$ } - single frequency code GPS and GLONASS DGPS. 
		\item \textbf{Veripos PPP} using global orbit, clock correction and dual-frequency GPS/GLONASS observations for dm level accuracy.
	\end{itemize}

	Veripos PPP service comes in four favours\footnote[frame]{\url{http://www.veripos.com/services.html}}: APEX, Ultra, APEX$^2$ and Ultra$^2$ - the difference is in the correction provider and number of constellations used. In all cases the corrections are transmitted via Inmarsat geostationary satellites\footnote[frame]{\url{http://www.veripos.com/global-coverage.html}} - 25E, 98W, 143.5E, AORE, AORW, IOR, POR. All coordinates provided are in ITRF2008.
\end{frame}


\begin{frame}{Veripos Standard}
	
	\begin{itemize}	
		\item Provides RTCM Type 1\footnote{DGPS corrections.}, 3\footnote{GPS reference station parameters.} messages.
		\item Normal accuracy: 1-2m. 
		\item Typical latency: 4 seconds\footnote{Typical correction update interval is 15 seconds.}.
		\item Single difference code solution (DGPS) using GPS C/A code on L1 frequency.
	\end{itemize}	
	
\end{frame}


\begin{frame}{Veripos Standard$^2$}
	
	Single frequency code GPS and GLONASS DGPS. 

	\begin{itemize}	
		\item Provides RTCM Type 1, 3, 31\footnote{DGPS GLONASS corrections.}, 32\footnote{GPS GLONASS reference station parameters.} messages.
		\item Normal accuracy: 1-2m. 
		\item Typical latency: 4 seconds.
		\item Single difference code solution (DGPS) using GPS and GLONASS C/A code (L1/G1)\footnote[frame]{It is possible to calculate position using only GLONASS with this service.}.
	\end{itemize}	
	
\end{frame}

\begin{frame}{Veripos Ultra}
	\begin{columns}[T,onlytextwidth]
		\column{0.5\textwidth}
		\begin{itemize}	
			\item Orbit and clock corrections in JPL GDGPS format.
			\item Normal accuracy: 0.1m planar. 
			\item Typical latency: 2 seconds with 30 s update rate.% for clocks and 120s for orbits.
			\item Precise Point Positioning (PPP) using C/A and P code and L1/L2 carrier phase for GPS.
		\end{itemize}	
		\column{0.5\textwidth}
		\begin{figure}[T]
			\vspace*{-1cm}
			\includegraphics[height=0.7\textheight]{pic/Ultra.png}
			\caption{Standard and Ultra solutions at a monitor site in Singapore.}
		\end{figure}
	\end{columns}
\end{frame}


\begin{frame}{Veripos Apex and Apex$^2$}
	\begin{columns}[T,onlytextwidth]
		\column{0.5\textwidth}
		\begin{itemize}	
		\item Orbit and clock corrections in Veripos OCDS format.
		\item Normal accuracy: 0.1m planar. 
		\item Typical latency: 2 seconds with 30 s update rate.% for clocks and 120s for orbits.
		\item Precise Point Positioning (PPP) using code and carrier phase on GPS L1/L2 frequencies.
		\end{itemize}	
		\column{0.5\textwidth}
		\begin{itemize}	
		\item Orbit and clock corrections in Veripos OCDS format.
		\item Normal accuracy: 0.1m planar. 
		\item Typical latency: 2 seconds with 30 s update rate.% for clocks and 120s for orbits.
		\item PPP, code and carrier phase on L1/L2 and G1/G2 (GPS and GLONASS).
		\end{itemize}	
		% \begin{figure}[T]
		% 	\vspace*{-1cm}
		% 	\includegraphics[height=0.8\textheight]{pic/Apex.png}
		% 	\caption{Veripos Apex solution at a monitor site in Aberdeen.}
		% \end{figure}
	\end{columns}
\end{frame}

\begin{frame}{Veripos Apex and Apex$^2$ comparison}
	\begin{figure}[T]
		\vspace*{-1cm}
		\includegraphics[height=0.7\textheight]{pic/Apex_compare.png}
		\caption{Apex and Apex$^2$ solutions at a monitor site in Aberdeen.}
	\end{figure}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Veripos demo}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Practical work}

\begin{frame}{Practice layout}
	
	\begin{itemize}
		\item LD5 will be restarted at 12:00. This will allow for PPP convergence. 
		\item You will collecting RTK data between 14:00 and 16:20. 
		\item Apart from collected data (GS10) you will be given Veripos NMEA strings for Ultra and Apex$^2$ (LD5).
		\item \textbf{Make sure that Veripos NMEA file has been split into \$GPGGA and \$GPGST ones before leaving.}
	\end{itemize}

\end{frame}

\begin{frame}{Data Collection}
	
	You will  collect:
		\begin{itemize}
			\item RTK GPS solution;
			\item RTK GPS+GLO solution;
			\item Network RTK GPS solution;
			\item Network RTK GPS+GLO solution.
		\end{itemize}

	The PPP data will be provided for you at the end of practical. It is your task to \textbf{select approximate point and time span} to carry out comparison between RTK and PPP solutions. 

\end{frame}




\begin{frame}{Veripos \$GPGGA NMEA strings}
	
	In Verpos provides two types of NMEA strings \$GPGGA and \$GPGST. \$GPGGA will behave differently in PPP mode with QA flag always 2 or 5. To obtain any information about solution we need to examine last flag before CRC(*).\\
	
	
	\begin{exampleblock}{Example}
		{\tiny{\$GPGGA,183324.00,5257.1178371,N,00111.0236798,W,\textbf{5},17,0.7,42.76,M,49.01,M,30.5,{\color{red}\textbf{0268}}*54}.}
	\end{exampleblock}
	
	Values for the flag indicate:	
	\begin{description}
		\item[0268] $ULTRA^2$
		\item [0281]	$APEX^2$
		\item [0068]	ULTRA
		\item [0081]	APEX
		\item [1006]	$Standard^2$
	\end{description}
	%use  cut -d, -f15 *.txt | cut -d* -f1 | sort | uniq to extract data  
\end{frame}

\begin{frame}[plain]{Veripos \$GPGST NMEA strings}

	\begin{exampleblock}{Example}
		{\textit{\$GPGST,140545.00,3.81,0.02,0.01,81.00,0.02,0.01,0.02*57}.}
	\end{exampleblock}
	\vspace*{-1cm}
	\begin{table}
		\centering
		\begin{minipage}[t]{\textheight}%
			\resizebox{\columnwidth}{!}{%
				\begin{tabular}{lc} %{l|c|c|c|c}
					\toprule %\rowcolor{lightgray}
					Cell & Notes\tabularnewline
					\midrule
					0&Message ID \$GPGST\\
					1&UTC of position fix\footnote{Notice 17s offset to GPS time.}\\
					2&RMS value of the pseudorange or carrier phase (RTK/PPP) residuals\\
					3&Error ellipse semi-major axis 1 sigma error, in meters\\
					4&Error ellipse semi-minor axis 1 sigma error, in meters\\
					5&Error ellipse orientation, degrees from true north\\
					6&Latitude 1 sigma error, in meters\\
					7&Longitude 1 sigma error, in meters\\
					8&Height 1 sigma error, in meters\\
					9&The checksum data, always begins with *\\
					\bottomrule
				\end{tabular}%
			}
			%	\caption{Coordinates of NGB5}
		\end{minipage}
	\end{table}
\end{frame}




\begin{frame}{NGB5}
	\begin{table}
		\centering
		\begin{minipage}[t]{\textwidth}%
			\resizebox{\columnwidth}{!}{%
				\begin{tabular}{lccccc} %{l|c|c|c|c}
					\toprule %\rowcolor{lightgray}
					Point & Frame & Lat[deg]  & Long[deg]  & EllHt[m] & Notes\tabularnewline
					\midrule
					NGB5 & ETRF97 & 52 57 7.05304 & 01 11 1.44953 & 91.212 & at point\\
					NGB5 & ETRF97 & 52 57 7.05304 & 01 11 1.44953 & 91.392 & at ARP\footnote{Antenna heigh = 0.18m.}\\
					NGB5 & ETRF97 & 52 57 7.05304 & 01 11 1.44953 & 91.434 & at antenna PCO\footnote{Antenna offset for ionsphere free solution is $2.545L_1-1.545L_2$ so\\ $2.545*55.3-1.545*64.2=41.5mm$.}\\
					\textbf{NGB5} & ITRF2008 & \textbf{52 57 7.07095} & \textbf{01 11 1.42675} W & \textbf{91.488} & at antenna PCO\footnote{Converted from ETRF97 to ITRF2008 at epoch 2016-12-04.} \\
					\textbf{NGB5} & ITRF2008 & \textbf{5257.1178492} & \textbf{0111.0237792} W & \textbf{91.488} & at antenna PCO\footnote{NEMEA GGA string DDMM.MMMMMMM format.} \\		
					\bottomrule
				\end{tabular}%
			}
			\caption{Coordinates of NGB5}
		\end{minipage}
	\end{table}
	%in DDMM.MMMMMMM 7 decimal place is eq to 0.0018 m	
\end{frame}



%Final slide
\setbeamercolor{background canvas}{bg=blueBgd!60}
\plain{Questions?}



\end{document}
